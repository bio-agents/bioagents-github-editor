<br>
<div class="panel panel-info">
					<div class="panel-heading" style="position: relative;"><label align="justify">A publication about the software.
					<br>We recommend you specify at least the primary publication, i.e. the one that should be cited when the agent is used. 
					Use "Add publication" for each individual publication and specify one or more of DOI, PMID and PMCID (ideally the DOI).
					See the <a target="_blank" ng-href="http://bioagents.readthedocs.io/en/latest/curators_guide.html#publications-group">Curation Guidelines <i class="fa fa-external-link"></i></a>.</label>
					</div>
				</div>
<form name="form.publicationsForm" class="form-horizontal" novalidate>
	<div class="form-group">
		<div class="col-sm-8 col-sm-offset-2 col-md-8 col-md-offset-2 no-side-padding">
			<!-- Publications -->
			<div class="panel panel-default" ng-repeat="link in software.publication track by $index" ng-class="{'no-margin-bottom': $last};">
				<div class="panel-heading" style="position: relative;">
						<i class="fa fa-times remove-icon highlight-icon" ng-click="removeButtonClick('publication', software, $index)"></i>
						<label class="control-label">Details for a single publication</label>
					</div>
				<ng-form name="publicationDetailForm">
					
					<div class="panel-body" style="position: relative;">
						<div>

							<!-- DOI ID -->
							<div class="form-group" ng-class="{'has-error': registrationErrorPayload.publication[$index].doi}">
								<label class="col-sm-4 control-label" style="position: relative;"><span agenttips agenttip-side="right" agenttip-content="{{Attribute.description.publicationDOI.description}}">Digital Object ID <a target="_blank" href="http://bioagents.readthedocs.io/en/latest/curators_guide.html#digital-object-id"><i class="fa fa-question-circle fa" aria-hidden="true"></i></a></span></label>
								<div class="col-sm-8">
									<input ng-model="software.publication[$index].doi" type="text" class="form-control" placeholder="e.g. 10.1093/nar/gkv1116" name="doi" validate-edit-resource-field index={{$index}}>
									<label class="help-block" ng-repeat="error in publicationDetailForm.doi.errorMessages" bo-text="error"></label>
								</div>
							</div>

							<!-- PubMed ID -->
							<div class="form-group" ng-class="{'has-error': registrationErrorPayload.publication[$index].pmid}">
								<label class="col-sm-4 control-label" style="position: relative;"><span agenttips agenttip-side="right" agenttip-content="{{Attribute.description.publicationPMID.description}}">PubMed ID <a target="_blank" href="http://bioagents.readthedocs.io/en/latest/curators_guide.html#pubmed-id"><i class="fa fa-question-circle fa" aria-hidden="true"></i></a></span></label>
								<div class="col-sm-8">
									<input ng-model="software.publication[$index].pmid" type="text" class="form-control" placeholder="e.g. 26538599" name="pmid" validate-edit-resource-field index={{$index}}>
									<label class="help-block" ng-repeat="error in publicationDetailForm.pmid.errorMessages" bo-text="error"></label>
								</div>
							</div>

							<!-- PubMed Central ID -->
							<div class="form-group" ng-class="{'has-error': registrationErrorPayload.publication[$index].pmcid}">
								<label class="col-sm-4 control-label" style="position: relative;"><span agenttips agenttip-side="right" agenttip-content="{{Attribute.description.publicationPMCID.description}}">PubMed Central ID <a target="_blank" href="http://bioagents.readthedocs.io/en/latest/curators_guide.html#pubmed-central-id"><i class="fa fa-question-circle fa" aria-hidden="true"></i></a></span></label>
								<div class="col-sm-8">
									<input ng-model="software.publication[$index].pmcid" type="text" class="form-control" placeholder="e.g. PMC4702812" name="pmcid" validate-edit-resource-field index={{$index}}>
									<label class="help-block" ng-repeat="error in publicationDetailForm.pmcid.errorMessages" bo-text="error"></label>
								</div>
							</div>

							<!-- Publication type -->
							<div class="form-group" ng-class="{'has-error': registrationErrorPayload.publication[$index].type}">
								<label class="col-sm-4 control-label" style="position: relative;"><span agenttips agenttip-side="right" agenttip-content="{{Attribute.description.publicationType.description}}">Publication type <a target="_blank" href="http://bioagents.readthedocs.io/en/latest/curators_guide.html#publication-type"><i class="fa fa-question-circle fa" aria-hidden="true"></i></a></span>
								</label>
								<div class="col-sm-8">
									<select class="form-control select-btn-group" ng-options="item.value as item.text for item in publicationTypeOptions" ng-model="software.publication[$index].type" name="type" validate-edit-resource-field index={{$index}}>
									</select>
									<label class="help-block" ng-repeat="error in publicationDetailForm.type.errorMessages" bo-text="error"></label>
								</div>
							</div>

							<!-- Publication Version -->
							<div class="form-group" ng-class="{'has-error': registrationErrorPayload.publication[$index].version}">
								<label class="col-sm-4 control-label" style="position: relative;"><span agenttips agenttip-side="right" agenttip-content="{{Attribute.description.publicationVersion.description}}">Version <a target="_blank" href="http://bioagents.readthedocs.io/en/latest/curators_guide.html#version-publication"><i class="fa fa-question-circle fa" aria-hidden="true"></i></a></span></label>
								<div class="col-sm-8">
									<input ng-model="software.publication[$index].version" type="text" class="form-control" placeholder="e.g. 1.1, beta01, 2.0 - 2.7" name="version" validate-edit-resource-field index={{$index}}>
									<label class="help-block" ng-repeat="error in publicationDetailForm.version.errorMessages" bo-text="error"></label>
								</div>
							</div>
							
						</div>
					</div>
				</ng-form>	
			</div>
			<!-- test more to make sure it works well -->
			<div ng-class="{'has-error': true};">
				<label class="help-block" style="margin-left: 20px;" ng-repeat="error in registrationErrorPayload.publication" bo-text="error.general_errors"></label>
			</div>
			<!-- Add a publication -->
			<div class="form-group" style="padding-top:7px;">
				<a href="" ng-show="!meta.function.visibility" ng-click="addButtonClick('publication', software, true, true)">Add publication</a>
			</div>
		</div>
	</div>
</form>
